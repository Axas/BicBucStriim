{% extends 'layout-default.twig' %}
{% block content %}

{% include "flash_messages_admin.twig" %}
<form action="{{page.rot}}/admin/configuration/" method="post" id="adminform">
	<fieldset class="config-fieldset">
		<label for="calibre_dir">{{page.glob.l10n.calibre_dir1}}</label>
		<input name="calibre_dir" id="calibre_dir" type="text" 
			value="{{config.calibre_dir}}" placeholder="{{page.glob.l10n.calibre_dir2}}" required autofocus />
		<p>{{page.glob.l10n.calibre_dir_expl}}</p>					
	</fieldset>
	<fieldset class="config-fieldset">
		<label for="kindle">{{page.glob.l10n.kindle_enable}}</label>
		<select name="kindle" id="kindle" data-role="slider">
			<option value="0" {% if config.kindle == "0" %}selected {%endif%}>
				{{page.glob.l10n.switch_no}}
			</option>
			<option value="1" {% if page.glob.config.kindle == "1" %}selected {%endif%}>
				{{page.glob.l10n.switch_yes}}
			</option>
		</select>
		<p>{{page.glob.l10n.kindle_expl}}</p>
	</fieldset>	
	<fieldset class="config-fieldset">
		<label for="kindle_from_email">{{page.glob.l10n.kindle_from_email1}}</label>
		<input name="kindle_from_email" id="kindle_from_email" type="text"
			   value="{{config.kindle_from_email}}"
			   placeholder="{{page.glob.l10n.kindle_from_email2}}" />
		<p>{{page.glob.l10n.kindle_expl2}}</p>
	</fieldset>
	<fieldset class="config-fieldset">
		<label for="mailer">{{page.glob.l10n.admin_mailer}}</label>
		<select name="mailer" id="mailer" value="{{config.mailer}}">
		{% for mailer in mailers %}
			<option value="{{mailer.key}}" {%if page.glob.mailer == mailer.key %}selected="true"{% endif %}>{{mailer.text}}</option>
		{% endfor %}
		</select>
		<p>{{page.glob.l10n.admin_mailer_expl}} <a href="../mail/">SMTP</a></p>					
	</fieldset>
	<fieldset class="config-fieldset">
		<label for="search_ascii_transliteration">{{page.glob.l10n.admin_ascii_translit}}</label>
		<select name="search_ascii_transliteration" id="search_ascii_transliteration">
			<option value="0" {% if config.search_ascii_transliteration == "0" %}selected {%endif%}>
				{{page.glob.l10n.switch_no}}
			</option>
			<option value="1" {% if config.search_ascii_transliteration == "1" %}selected {%endif%}>
				{{page.glob.l10n.switch_yes}}
			</option>
		</select>
		<p>{{page.glob.l10n.admin_ascii_translit_expl}}</p>
	</fieldset>
	<fieldset class="config-fieldset">
        <label for="title_time_sort">{{page.glob.l10n.admin_tts}}</label>
        <select name="title_time_sort" id="title_time_sort" value="{{config.title_time_sort}}">
            {% for tts in ttss %}
            <option value="{{tts.key}}" {%if config.title_time_sort == tts.key %}selected="true" {% endif %}>
                {{tts.text}}
            </option>
            {% endfor %}
        </select>
        <p>{{page.glob.l10n.admin_tts_expl}}</p>
    </fieldset>
    <fieldset class="config-fieldset">
		<label for="thumb_gen_clipped">{{page.glob.l10n.thumb_gen_clipped}}</label>
		<select name="thumb_gen_clipped" id="thumb_gen_clipped" data-role="slider">
			<option value="0" {% if config.thumb_gen_clipped == "0" %}selected {%endif%}>
				{{page.glob.l10n.switch_no}}
			</option>
			<option value="1" {% if config.thumb_gen_clipped == "1" %}selected {%endif%}>
				{{page.glob.l10n.switch_yes}}
			</option>
		</select>
		<p>{{page.glob.l10n.thumb_gen_clipped_expl}}</p>
	</fieldset>	
	<fieldset class="config-fieldset">
		<label for="page_size">{{page.glob.l10n.page_size}}</label>
		<input name="page_size" id="page_size" 
			type="number"
			value="{{config.page_size}}"
			min="1"
			max="100"
			step="1"
		/>
		<p>{{page.glob.l10n.page_size_expl}}</p>
	</fieldset>	
	<fieldset class="config-fieldset">
		<label for="display_app_name">{{page.glob.l10n.display_app_name}}</label>
		<input name="display_app_name" id="display_app_name" 
			type="text" 
			value="{{config.display_app_name}}"
		/>
		<p>{{page.glob.l10n.display_app_name_expl}}</p>
	</fieldset>	
	<fieldset class="config-fieldset">
		<label for="metadata_update">{{page.glob.l10n.metadata_update}}</label>
		<select name="metadata_update" id="metadata_update" data-role="slider">
			<option value="0" {% if config.metadata_update == "0" %}selected {%endif%}>
				{{page.glob.l10n.switch_no}}
			</option>
			<option value="1" {% if config.metadata_update == "1" %}selected {%endif%}>
				{{page.glob.l10n.switch_yes}}
			</option>
		</select>
		<p>{{page.glob.l10n.metadata_update_expl}}</p>
	</fieldset>
	<fieldset class="config-fieldset">
		<label for="relative_urls">{{page.glob.l10n.relative_urls}}</label>
		<select name="relative_urls" id="relative_urls" data-role="slider">
			<option value="0" {% if config.relative_urls == "0" %}selected {%endif%}>
			{{page.glob.l10n.switch_no}}
			</option>
			<option value="1" {% if config.relative_urls == "1" %}selected {%endif%}>
			{{page.glob.l10n.switch_yes}}
			</option>
		</select>
		<p>{{page.glob.l10n.relative_urls_expl}}</p>
	</fieldset>
	<fieldset class="config-fieldset">
		<label for="remember_cookie_enabled">{{page.glob.l10n.admin_remember_cookie_enabled}}</label>
		<select name="remember_cookie_enabled" id="remember_cookie_enabled" data-role="slider">
			<option value="0" {% if config.remember_cookie_enabled == "0" %}selected {%endif%}>
				{{page.glob.l10n.switch_no}}
			</option>
			<option value="1" {% if config.remember_cookie_enabled == "1" %}selected {%endif%}>
				{{page.glob.l10n.switch_yes}}
			</option>
		</select>
		<p>{{page.glob.l10n.admin_remember_cookie_enabled_expl}}</p>
	</fieldset>
	<fieldset class="config-fieldset">
		<label for="remember_cookie_duration">{{page.glob.l10n.admin_remember_cookie_duration}}</label>
		<input name="remember_cookie_duration" id="remember_cookie_duration"
			   type="number"
			   value="{{config.remember_cookie_duration}}"
			   min="1"
			   step="1"
		/>
		<p>{{page.glob.l10n.admin_remember_cookie_duration_expl}}</p>
	</fieldset>
	<button type="submit" class="btn-config">{{page.glob.l10n.save}}</button>
</form>

{% endblock %}
