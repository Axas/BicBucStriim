{% extends 'main.html' %}

{% block headerlinks %}
<!--
  ~  BicBucStriim
  ~
  ~  Copyright (c) 2012-2015 Rainer Volz
  ~  Licensed under MIT License, see LICENSE
  ~
  -->

<link rel="related" href="{{page.rot}}/opds/"
	type="application/atom+xml;profile=opds-catalog" title="OPDS index">
<link rel="alternate" href="{{page.rot}}/opds/tagslist/" 
	type="application/atom+xml;profile=opds-catalog" title="OPDS catalog: by tags">
{% endblock %}

{% block pid %}id="ptags"{%endblock%}

{% block content %}
<div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4">
	{% for tag in tags %}
		{% if tag.initial != "" %}
			<!-- TODO Add list divider card? -->
		{% else %}
			<a href="{{page.rot}}/tags/{{ tag.id }}/0/">
				<figure class="md:flex bg-gray-100 rounded-xl p-8 md:p-0">
					{% if this_series.thumbnail %}
					<img class="w-32 h-32 md:w-48 md:h-auto md:rounded-none rounded-full mx-auto" src="{{page.rot}}/{{tag.thumbnail.url}}" alt="" width="384" height="512">
					{% else %}
					<svg class="h-12 w-12" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
						<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z" />
					</svg>
					<!-- TODO tags icon? -->
					<!--img class="w-32 h-32 md:w-48 md:h-auto md:rounded-none rounded-full mx-auto" src="{{page.rot}}/img/tags.png" alt="" width="384" height="512"-->
					{% endif %}

					<div class="pt-6 md:p-8 text-center md:text-left space-y-4">
						<blockquote>
							<p class="text-lg font-semibold">
								{{ tag.name }}
							</p>
						</blockquote>
						<figcaption class="font-medium">
							<div class="text-cyan-600">
								{{tag.name}}
							</div>
							<div class="text-gray-500">
								{{tag.anzahl}}
							</div>
						</figcaption>
					</div>
				</figure>
			</a>
		{% endif %}
  	{% endfor %}
</div>
{% endblock %}


{% block leftpanel %}
<section data-role="panel" data-display="overlay" data-position="left" id="tags_options_panel">
    <h2>{{page.glob.l10n.pagination_search}}</h2>

    <form action="{{page.rot}}/search/"
          method="get" class="ui-bar-a">
        <div data-role="fieldcontain" class="ui-hide-label">
            <label for="search">{{page.glob.l10n.pagination_search_lbl}}</label>
            <input type="search" name="search" id="search" value="{{search}}"
                   placeholder="{{page.glob.l10n.pagination_search_ph}}" autofocus=""true"/>
        </div>
    </form>
</section>
{% endblock %}